!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.immediate=e()}}(function(){return function(){function e(t,n,r){function i(u,f){if(!n[u]){if(!t[u]){var a="function"==typeof require&&require;if(!f&&a)return a(u,!0);if(o)return o(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){return i(t[u][1][e]||e)},c,c.exports,e,t,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}return e}()({1:[function(e,t,n){(function(n){"use strict";function r(){f&&a&&(f=!1,a.length?d=a.concat(d):l=-1,d.length&&i())}function i(){if(!f){p=!1,f=!0;for(var e=d.length,t=setTimeout(r);e;){for(a=d,d=[];a&&++l<e;)a[l].run();l=-1,e=d.length}a=null,l=-1,f=!1,clearTimeout(t)}}function o(e,t){this.fun=e,this.array=t}function u(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new o(e,t)),p||f||(p=!0,h())}var f,a,s,c=[e("./nextTick"),e("./queueMicrotask"),e("./mutation.js"),e("./messageChannel"),e("./stateChange"),e("./timeout")],l=-1,d=[],p=!1;s="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this;for(var h,m=-1,g=c.length;++m<g;)if(c[m]&&c[m].test&&c[m].test(s)){h=c[m].install(i,s);break}o.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},t.exports=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./messageChannel":2,"./mutation.js":3,"./nextTick":7,"./queueMicrotask":4,"./stateChange":5,"./timeout":6}],2:[function(e,t,n){"use strict";n.test=function(e){return!e.setImmediate&&void 0!==e.MessageChannel},n.install=function(e,t){var n=new t.MessageChannel;return n.port1.onmessage=e,function(){n.port2.postMessage(0)}}},{}],3:[function(e,t,n){"use strict";function r(e){return e.MutationObserver||e.WebKitMutationObserver}n.test=function(e){return r(e)},n.install=function(e,t){var n=r(t),i=0,o=new n(e),u=t.document.createTextNode("");return o.observe(u,{characterData:!0}),function(){u.data=i=++i%2}}},{}],4:[function(e,t,n){"use strict";n.test=function(e){return"function"==typeof e.queueMicrotask},n.install=function(e,t){return function(){t.queueMicrotask(e)}}},{}],5:[function(e,t,n){"use strict";n.test=function(e){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},n.install=function(e,t){return function(){var n=t.document.createElement("script");return n.onreadystatechange=function(){e(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},t.document.documentElement.appendChild(n),e}}},{}],6:[function(e,t,n){"use strict";n.test=function(){return!0},n.install=function(e){return function(){setTimeout(e,0)}}},{}],7:[function(e,t,n){},{}]},{},[1])(1)});
